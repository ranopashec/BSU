# Коллоквиум 2 
Паттерн Singleton с ортогональными стратегиями
- Петраков Семён Александрович
- Группа 10
- Вариант 2

## Описание

Данный проект реализует мощный вариант паттерна Singleton на языке C++ с использованием ортогональных стратегий, как это описано в книге Андрея Александреску "Modern C++ Design". Реализация вдохновлена библиотекой Loki, но написана с нуля и имеет уникальную архитектуру.

В качестве стратегий применяются:

- **Стратегия создания**: создание объекта через `new` или `shared_ptr`
- **Стратегия синхронизации**: отсутствие блокировок (`NoLock`) или использование `std::mutex` (`MutexLock`)

## Файлы

- `task.cpp` — основной файл проекта, содержащий реализацию и пример использования.

## Особенности

- Полностью потокобезопасная реализация при использовании `MutexLock`
- Простое переключение стратегий через шаблонные параметры
- Реализована возможность смены выходного файла логгера во время выполнения
- Поддержка освобождения ресурсов через метод `Destroy()`

## Пример использования

```cpp
using AppLogger = Singleton<Logger, CreateUsingNew, MutexLock>;

int main()
{
	auto &log = AppLogger::Instance();
	log.SetOutputFile("log.txt");
	log.Log("Запуск приложения");
	log.Log("Логируем в файл");
	AppLogger::Destroy();
}
```

## Требования
- C++17 или новее
- Стандартная библиотека (без сторонних зависимостей)

## Сборка
Пример компиляции с помощью g++:
```bash
g++ -std=c++17 -o singleton task.cpp
```
